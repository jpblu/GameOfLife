<div class="container ms-auto col-6">

    <div class="row">
        <% if @isvalid[:valid] == true %>
            <div class="alert alert-success" role="alert">
                Validation OK!
            </div>
            <div class="card">
                <div class="card-body">
                    <h5>Game Input</h5>
                    <p>Generation: <b><span id="showgen"><%=@isvalid[:gol_gen] %></span></b></p>
                    <p>Grid: <b><%=@isvalid[:gol_row] %></b> x <b><%=@isvalid[:gol_col] %></b></p>
                    
                    <table style="border-collapse: collapse;" id="showgrid">
                    <%  @isvalid[:grid].each do |row| %>
                        <tr>
                        <%  row.each do |col| %>
                                <td class="<%if col == 0 %>bg-light <% else %> bg-danger <% end %>" style="width: 20px; height: 20px; border: 1px solid black;"></td>
                        <%  end  %>
                        </tr>
                    <%  end %>
                    </table>
                    <div class="d-grid mt-3 gap-2 d-md-block">
                        <%= form_with url: "/game", method: :post do |form| %>

                            <div class="d-grid gap-2 d-md-block">
                                <%= form.hidden_field :gol_gen, value: @isvalid[:gol_gen] %>
                                <%= form.hidden_field :gol_row, value: @isvalid[:gol_row] %>
                                <%= form.hidden_field :gol_col, value: @isvalid[:gol_col]  %>
                                <%= form.hidden_field :grid, value: @isvalid[:grid].to_json  %>
                                <div class="d-flex text-primary align-items-center col-6 mt-3">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <%= form.range_field :speed, min: 0, max: 1, step: 0.1, value: 0.3, class: 'form-range' %>
                                </div>
                                <%= form.submit 'Start', class: 'btn btn-success mt-3' %>
                            </div>

                        <% end %>

                    </div>
                </div>
            </div>
        <% else %>
            <div class="alert alert-danger" role="alert">
                <%= @isvalid[:err_out] %>
            </div>
            <div class="d-grid gap-2 d-md-block">
                <a href="/" class="btn btn-primary">Retry</a>
            </div>
        <% end %>
    </div>

</div>